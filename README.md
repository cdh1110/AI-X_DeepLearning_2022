# AI-X_DeepLearning_2022Fall_FinalProject
## Title
**Exploring Survival in the Hospital**(입원 중인 환자의 생존률)

## Members
<br> 차도현, 물리학과, chamena1110@gmail.com <br> Khaliun, 경제금융학부, haliunurgamaltuya@gmail.com 

## Index
####    I. Proposal
####    II. Datasets
####    III. Methodology
####    IV. Evaluation & Analysis
####    V. Related Works
####    VI. Conclusion: Discussion

## I. Proposal (Option A)

- Motivation: <br> 본 수업에서 제공된 타이타닉 예제, Exploring Survivals on Titanic 글은 ML의 기초를 다질 입문 과정으로 적합해 보입니다. 따라서 공부와 연습을 위해 그와 유사한 타입의 주제를 선정하고 싶었습니다. Kaggle과 각종 공공데이터 웹사이트를 이용해 Binary Classification이면서, Feature Engineering, EDA를 연습하기 좋은 데이터를 검색하여 여러 후보들을 추리고 조원과 상의한 결과, 현 주제인 Patient Survival Prediction을 하기로 최종 결정했습니다. 제공된 feature의 종류가 85개에다, 결측치도 간간히 포함되어 있어 보다 팀 프로젝트에 최적인 양으로 보이고, 실재 기반 데이터이며 예측 모델을 성공적으로 구축 시, '사망'을 예방할 수 있다는 실용적인 의미도 있는 것이 그 이유입니다.   

- What do you want to see at the end?: <br> 내적으로는, 입원 중인 환자의 병원 내 사망률에 대한 주 요인을 파악하고, 이에 머신러닝 기반의 예측 모델을 구축하는 것이 목표입니다. <br> 외적으로는 다음의 학습 목표를 통해 EDA와 ML의 기초를 다지는 것입니다. <ol> -약 80여개의 다양한 feature중 중요 feature을 선별 <br> -일부 행에 존재하는 결측치를 합리적으로 처리(단순 삭제 vs 합리적 예측) <br> -머신러닝에 사용되는 알고리즘을 이해하고 실전 데이터에 적용 


## II. Datasets

- 데이터는 다음의 kaggle 웹사이트로부터 얻었습니다.
https://www.kaggle.com/datasets/mitishaagarwal/patient 

입원 환자의 여러 특징과 해당 환자 사망 여부를 나타낸 데이터입니다. 환자가 생존 했을 경우 0, 사망 했을 경우 1입니다. 
*타이타닉 예제와 같은 binary classification입니다. 약 80개나 되는 다양한 feature가 존재하고 중간중간 결측치(Null, NaN) 또한 가지고 있어 EDA에 대부분의 시간이 할애될 것입니다. 따라서 이 두 가지 특징 때문에, 본 프로젝트는 타이타닉 예제와 매우 유사한 방식으로 진행될 것이 예상됩니다. Feature engineering, Missing value imputation, Prediction*

# II-1. Data overview

먼저 데이터 분석에 필요한 패키지들을 불러옵니다.
```R
library('dplyr') #data manipulation
library('tidyr') #data manipulation
library('VIM') #visualization
library('ggplot2') #visualization
```
이제 데이터를 로드합니다.
```R
data <- read.csv('./project_data.csv')
str(data)
```
```
'data.frame':   91713 obs. of  85 variables:
 $ encounter_id                 : int  66154 114252 119783 79267 92056 33181 82208 120995 80471 42871 ...
 $ patient_id                   : int  25312 59342 50777 46918 34377 74489 49526 50129 10577 90749 ...
 $ hospital_id                  : int  118 81 118 118 33 83 83 33 118 118 ...
 $ age                          : int  68 77 25 81 19 67 59 70 45 50 ...
 $ bmi                          : num  22.7 27.4 31.9 22.6 NA ...
 $ elective_surgery             : int  0 0 0 1 0 0 0 0 0 0 ...
 $ ethnicity                    : chr  "Caucasian" "Caucasian" "Caucasian" "Caucasian" ...
 $ gender                       : chr  "M" "F" "F" "F" ...
 $ height                       : num  180 160 173 165 188 ...
 $ icu_admit_source             : chr  "Floor" "Floor" "Accident & Emergency" "Operating Room / Recovery" ...
 $ icu_id                       : int  92 90 93 92 91 95 95 91 114 114 ...
 $ icu_stay_type                : chr  "admit" "admit" "admit" "admit" ...
 $ icu_type                     : chr  "CTICU" "Med-Surg ICU" "Med-Surg ICU" "CTICU" ...
 $ pre_icu_los_days             : num  0.541667 0.927778 0.000694 0.000694 0.073611 ...
 $ weight                       : num  73.9 70.2 95.3 61.7 NA ...
 $ apache_2_diagnosis           : int  113 108 122 203 119 301 108 113 116 112 ...
 $ apache_3j_diagnosis          : num  502 203 703 1206 601 ...
 $ apache_post_operative        : int  0 0 0 1 0 0 0 0 0 0 ...
 $ arf_apache                   : int  0 0 0 0 0 0 0 0 0 0 ...
 $ gcs_eyes_apache              : int  3 1 3 4 NA 4 4 4 4 4 ...
 $ gcs_motor_apache             : int  6 3 6 6 NA 6 6 6 6 6 ...
 $ gcs_unable_apache            : int  0 0 0 0 NA 0 0 0 0 0 ...
 $ gcs_verbal_apache            : int  4 1 5 5 NA 5 5 5 5 5 ...
 $ heart_rate_apache            : int  118 120 102 114 60 113 133 120 82 94 ...
 $ intubated_apache             : int  0 0 0 1 0 0 1 0 0 0 ...
 $ map_apache                   : int  40 46 68 60 103 130 138 60 66 58 ...
 $ resprate_apache              : num  36 33 37 4 16 35 53 28 14 46 ...
 $ temp_apache                  : num  39.3 35.1 36.7 34.8 36.7 36.6 35 36.6 36.9 36.3 ...
 $ ventilated_apache            : int  0 1 0 1 0 0 1 1 1 0 ...
 $ d1_diasbp_max                : int  68 95 88 48 99 100 76 84 65 83 ...
 $ d1_diasbp_min                : int  37 31 48 42 57 61 68 46 59 48 ...
 $ d1_diasbp_noninvasive_max    : int  68 95 88 48 99 100 76 84 65 83 ...
 $ d1_diasbp_noninvasive_min    : int  37 31 48 42 57 61 68 46 59 48 ...
 $ d1_heartrate_max             : int  119 118 96 116 89 113 112 118 82 96 ...
 $ d1_heartrate_min             : int  72 72 68 92 60 83 70 86 82 57 ...
 $ d1_mbp_max                   : int  89 120 102 84 104 127 117 114 93 101 ...
 $ d1_mbp_min                   : int  46 38 68 84 90 80 97 60 71 59 ...
 $ d1_mbp_noninvasive_max       : int  89 120 102 84 104 127 117 114 93 101 ...
 $ d1_mbp_noninvasive_min       : int  46 38 68 84 90 80 97 60 71 59 ...
 $ d1_resprate_max              : int  34 32 21 23 18 32 38 28 24 44 ...
 $ d1_resprate_min              : int  10 12 8 7 16 10 16 12 19 14 ...
 $ d1_spo2_max                  : int  100 100 98 100 100 97 100 100 97 100 ...
 $ d1_spo2_min                  : int  74 70 91 95 96 91 87 92 97 96 ...
 $ d1_sysbp_max                 : int  131 159 148 158 147 173 151 147 104 135 ...
 $ d1_sysbp_min                 : int  73 67 105 84 120 107 133 71 98 78 ...
 $ d1_sysbp_noninvasive_max     : int  131 159 148 158 147 173 151 147 104 135 ...
 $ d1_sysbp_noninvasive_min     : num  73 67 105 84 120 107 133 71 98 78 ...
 $ d1_temp_max                  : num  39.9 36.3 37 38 37.2 36.8 37.2 38.5 36.9 37.1 ...
 $ d1_temp_min                  : num  37.2 35.1 36.7 34.8 36.7 36.6 35 36.6 36.9 36.4 ...
 $ h1_diasbp_max                : int  68 61 88 62 99 89 107 74 65 83 ...
 $ h1_diasbp_min                : int  63 48 58 44 68 89 79 55 59 61 ...
 $ h1_diasbp_noninvasive_max    : int  68 61 88 NA 99 89 NA 74 65 83 ...
 $ h1_diasbp_noninvasive_min    : int  63 48 58 NA 68 89 NA 55 59 61 ...
 $ h1_heartrate_max             : int  119 114 96 100 89 83 79 118 82 96 ...
 $ h1_heartrate_min             : int  108 100 78 96 76 83 72 114 82 60 ...
 $ h1_mbp_max                   : int  86 85 91 92 104 111 117 88 93 101 ...
 $ h1_mbp_min                   : int  85 57 83 71 92 111 117 60 71 77 ...
 $ h1_mbp_noninvasive_max       : int  86 85 91 NA 104 111 117 88 93 101 ...
 $ h1_mbp_noninvasive_min       : int  85 57 83 NA 92 111 117 60 71 77 ...
 $ h1_resprate_max              : int  26 31 20 12 NA 12 18 28 24 29 ...
 $ h1_resprate_min              : int  18 28 16 11 NA 12 18 26 19 17 ...
 $ h1_spo2_max                  : int  100 95 98 100 100 97 100 96 97 100 ...
 $ h1_spo2_min                  : int  74 70 91 99 100 97 100 92 97 96 ...
 $ h1_sysbp_max                 : int  131 95 148 136 130 143 191 119 104 135 ...
 $ h1_sysbp_min                 : int  115 71 124 106 120 143 163 106 98 103 ...
 $ h1_sysbp_noninvasive_max     : int  131 95 148 NA 130 143 NA 119 104 135 ...
 $ h1_sysbp_noninvasive_min     : int  115 71 124 NA 120 143 NA 106 98 103 ...
 $ d1_glucose_max               : int  168 145 NA 185 NA 156 197 129 365 134 ...
 $ d1_glucose_min               : int  109 128 NA 88 NA 125 129 129 288 134 ...
 $ d1_potassium_max             : num  4 4.2 NA 5 NA 3.9 5 5.8 5.2 4.1 ...
 $ d1_potassium_min             : num  3.4 3.8 NA 3.5 NA 3.7 4.2 2.4 5.2 3.3 ...
 $ apache_4a_hospital_death_prob: num  0.1 0.47 0 0.04 NA 0.05 0.1 0.11 NA 0.02 ...
 $ apache_4a_icu_death_prob     : num  0.05 0.29 0 0.03 NA 0.02 0.05 0.06 NA 0.01 ...
 $ aids                         : int  0 0 0 0 0 0 0 0 0 0 ...
 $ cirrhosis                    : int  0 0 0 0 0 0 0 0 0 0 ...
 $ diabetes_mellitus            : int  1 1 0 0 0 1 1 0 0 0 ...
 $ hepatic_failure              : int  0 0 0 0 0 0 0 0 0 0 ...
 $ immunosuppression            : int  0 0 0 0 0 0 0 1 0 0 ...
 $ leukemia                     : int  0 0 0 0 0 0 0 0 0 0 ...
 $ lymphoma                     : int  0 0 0 0 0 0 0 0 0 0 ...
 $ solid_tumor_with_metastasis  : int  0 0 0 0 0 0 0 0 0 0 ...
 $ apache_3j_bodysystem         : chr  "Sepsis" "Respiratory" "Metabolic" "Cardiovascular" ...
 $ apache_2_bodysystem          : chr  "Cardiovascular" "Respiratory" "Metabolic" "Cardiovascular" ...
 $ X                            : logi  NA NA NA NA NA NA ...
 $ hospital_death               : int  0 0 0 0 0 0 0 0 1 0 ...
        
```    
91713명의 환자에 대한 85개의 변수를 확인할 수 있습니다.
각 변수에 대한 설명을 간략히 아래 표로 정리했습니다. (자세한 설명은 뒤에 이어서 합니다.)
| 변수 이름  | 설명 |
| ------------- | ------------- |
| encounter_id   | Content Cell  |
| patient_id    | Content Cell  |                    
|hospital_id| Content Cell  |
|age| Content Cell  |                        
|bmi| Content Cell  |                           
|elective_surgery| Content Cell  |
|ethnicity| Content Cell  |
|gender| Content Cell  |
|height| Content Cell  |                        
|icu_admit_source| Content Cell  |
|icu_id| Content Cell  |                    
|icu_stay_type| Content Cell  |        
|icu_type| Content Cell  |
|pre_icu_los_days| Content Cell  |
|weight| Content Cell  |
|apache_2_diagnosis| Content Cell  |           
|apache_3j_diagnosis| Content Cell  |
|apache_post_operative| Content Cell  |
|arf_apache| Content Cell  |
|gcs_eyes_apache| Content Cell  |         
|gcs_motor_apache| Content Cell  |
|gcs_unable_apache| Content Cell  |
|gcs_verbal_apache| Content Cell  |
|heart_rate_apache| Content Cell  |            
|intubated_apache| Content Cell  |
|map_apache| Content Cell  |
|resprate_apache| Content Cell  |
|temp_apache| Content Cell  |                 
|ventilated_apache| Content Cell  |        
## III. Methodology 
- Explaining your choice of algorithms (methods)
- Explaining features (if any) 

## IV. Evaluation & Analysis
- Graphs, tables, any statistics (if any)
  
## V. Related Work (e.g., existing studies)
- Tools, libraries, blogs, or any documentation that you have used to do this project.
  
## VI. Conclusion: Discussion
- Feel free to use any format you like. 
  

